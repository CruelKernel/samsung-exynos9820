/*
 * SAMSUNG EXYNOS9820 board device tree source
 *
 * Copyright (c) 2018 Samsung Electronics Co., Ltd.
 *		http://www.samsung.com
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
*/

/dts-v1/;
/plugin/;

#include "modem-s5100-sipc-pdata.dtsi"
#include "exynos9820_evt0-universal9820_common.dtsi"
#include "exynos9820-rmem_s5100.dtsi"
#include "exynos9820_evt0-universal9820-camera_rev2.dtsi"

/ {
	compatible = "samsung,exynos9820", "samsung,UNIVERSAL9820_s5100";
	board_id = <0x80>;
	board_rev = <0x0>;

	fragment@model {
		target-path = "/";
		__overlay__ {
			#address-cells = <2>;
			#size-cells = <1>;

			model = "Samsung UNIVERSAL9820_s5100 Rev0 board based on EXYNOS9820";

		}; /* end of __overlay__ */
	}; /* end of fragment */
}; /* end of root */

&pinctrl_0 {
	s_pmic_irq1: s-pmic-irq1 {
		samsung,pins = "gpa2-5";
		samsung,pin-pud = <3>;
		samsung,pin-drv = <3>;
	};
};

&speedy1 {
	#address-cells = <1>;
	#size-cells = <0>;
	status = "okay";
	s2mps20mfd@00 {
		compatible = "samsung,s2mps20mfd";
		acpm-ipc-channel = <2>;
		i2c-speedy-address;
		s2mps20,wakeup = "enabled";
		s2mps20,irq-gpio = <&gpa2 5 0>;
		reg = <0x00>;
		interrupts = <5 0 0>;
		interrupt-parent = <&gpa2>;
		pinctrl-names = "default";
		pinctrl-0 = <&s_pmic_irq1>;
	};
};


&pinctrl_6 {
	cs35l41_r_reset: cs35l41-r-reset {
		samsung,pins ="gph1-1";
		samsung,pin-con-pdn =<3>;
		samsung,pin-pud-pdn = <0>;
	};
	cs35l41_l_reset: cs35l41-l-reset {
		samsung,pins ="gph1-2";
		samsung,pin-con-pdn =<3>;
		samsung,pin-pud-pdn = <0>;
	};
};

&hsi2c_38 {
	cs35l41@40 {
		pinctrl-names = "default";
		pinctrl-0 = <&cs35l41_r_reset>;
		interrupt-parent = <&gpm24>;
		interrupts = <0 0 0>;
		reset-gpios = <&gph1 1 0>;
	};

	cs35l41@41 {
		pinctrl-names = "default";
		pinctrl-0 = <&cs35l41_l_reset>;
		interrupt-parent = <&gpm24>;
		interrupts = <0 0 0>;
		reset-gpios = <&gph1 2 0>;
	};
};

&usi_17 {
	usi_v2_mode = "i2c";
	status = "okay";
};

&usi_00_cmgp {
	usi_v2_mode = "spi";
	status = "okay";
};

&spi_19 {
	#address-cells = <1>;
	#size-cells = <0>;
	status = "okay";
	pinctrl-names = "default";
	pinctrl-0 = <&spi19_bus &spi19_cs_func>;
	modem_boot_spi: modem_boot_spi@0 {
		compatible = "modem_boot_spi";
		reg = <0x0>;
		spi-max-frequency = <4000000>;
		controller-data {
			samsung,spi-feedback-delay = <0>;
			samsung,spi-chip-select-mode = <1>;
		};
	};
}; /* end of spi_19 */

&pcie_0 {
	status = "disabled";
	use-sysmmu = "false";
	use-cache-coherency = "true";
	use-msi = "false";
	ep-device-type = <EP_BCM_WIFI>;
	pcie,wlan-gpio = <&gpg1 0 0x1 /* WLAN_EN */ >;
};

&pcie_1 {
	status = "okay";
	use-sysmmu = "true";
	use-cache-coherency = "true";
	use-msi = "true";
	use-sicd = "true";
	ep-device-type = <EP_SAMSUNG_MODEM>;
	phy-power-off = "false";  /* 'true' is only for Exynos9820 SMDK board */
};

&speedy {
	s2mps19mfd@00 {
		smpl_warn_dev2= <0>;
	};
};
